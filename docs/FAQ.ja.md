[English](FAQ.md)

# よくある質問 (FAQ)

## 一般的な質問

### Docker MCP Gateway Consoleとは何ですか？

Docker MCP Gateway Consoleは、DockerベースのMCP（Model Context Protocol）サーバーのためのWebベースの管理インターフェースです。Bitwarden統合を通じた安全なシークレット管理を提供し、機密情報をディスクに保存することなくMCPサーバーをデプロイおよび管理できます。

### MCP（Model Context Protocol）とは何ですか？

MCPは、AIモデルが外部ツール、リソース、データソースと対話できるようにするプロトコルです。MCPサーバーは、AIモデルが使用できる特定の機能（ファイルシステムアクセス、API統合、データベースクエリなど）を提供します。

### なぜシークレット管理にBitwardenを使用するのですか？

Bitwardenは以下を提供します：
- APIキーと認証情報の安全で暗号化された保存
- 設定ファイルにシークレットを保存せずに済む簡単な参照システム
- 複数のサービスにわたるシークレットの一元管理
- 業界標準のセキュリティプラクティス

## インストールとセットアップ

### Bitwardenアカウントは必要ですか？

はい、このアプリケーションを使用するにはBitwardenアカウントが必要です。個人使用には無料枠で十分です。

### セルフホストのBitwardenを使用できますか？

はい、このアプリケーションはBitwardenクラウドとセルフホストインスタンスの両方で動作します。セルフホストインスタンスを指すようにBitwarden CLIを設定してください。

### Dockerがインストールされていない場合はどうすればよいですか？

MCPサーバーをコンテナとして実行するにはDockerが必要です。お使いのオペレーティングシステム用の[Dockerインストールガイド](https://docs.docker.com/engine/install/)に従ってください。

### Windowsで実行できますか？

はい、ただしDocker Desktop for Windowsが必要です。本番環境での使用にはLinuxまたはmacOSが最適です。

## 認証とセキュリティ

### Bitwarden APIキーはどうやって取得しますか？

1. Bitwarden Web保管庫にログインします
2. 設定 → セキュリティ → キー へ移動します
3. 「APIキーを表示」をクリックします
4. client_id と client_secret をコピーします

### マスターパスワードはどこかに保存されますか？

いいえ。マスターパスワードで認証した場合、それはセッショントークンを取得するためだけに使用され、メモリから即座に破棄されます。

### セッションはどのくらい持続しますか？

デフォルトでは、30分間の非アクティブ状態でセッションが期限切れになります。これは `SESSION_TIMEOUT_MINUTES` 環境変数で設定可能です。

### シークレットはディスクに保存されますか？

いいえ。すべてのシークレットはセッション中のみメモリに保持され、ディスクやログファイルに書き込まれることはありません。

### ログアウトするとキャッシュされたシークレットはどうなりますか？

ログアウトするかセッションが期限切れになると、すべてのキャッシュされたシークレットは即座にメモリから消去されます。

## アプリケーションの使用

### Bitwardenのシークレットはどうやって参照しますか？

形式: `{{ bw:item-id:field }}` を使用します。

例: `{{ bw:abc123:password }}`

ここで：
- `abc123` はBitwardenアイテムID
- `password` はフィールド名（password, username, またはカスタムフィールド）

### BitwardenアイテムIDはどうやって見つけますか？

1. Bitwarden Web保管庫を開きます
2. アイテムをクリックします
3. URLを確認します: `https://vault.bitwarden.com/#/vault?itemId=YOUR-ITEM-ID`
4. URLからアイテムIDをコピーします

### Bitwardenのカスタムフィールドを使用できますか？

はい！Bitwardenアイテムにカスタムフィールドを作成し、名前で参照できます：
`{{ bw:item-id:my_custom_field }}`

### コンテナの起動に失敗した場合はどうすればよいですか？

1. UIでコンテナログを確認します
2. すべてのBitwarden参照が正しいことを確認します
3. Dockerイメージが存在し、アクセス可能であることを確認します
4. 必要な環境変数が設定されていることを確認します

### 実行中のコンテナを更新するにはどうすればよいですか？

1. コンテナを停止します
2. 必要に応じて設定を更新します
3. コンテナを再起動します

または、削除して新しい設定でコンテナを再作成します。

## カタログ

### カタログはどこから取得されますか？

カタログは設定で指定されたURLから取得されます。提供されているサンプルカタログを使用するか、独自に作成できます。

### 独自のカタログを作成できますか？

はい！カタログスキーマ（`docs/sample-catalog.json` 参照）に従ってJSONファイルを作成し、HTTP/HTTPS経由でアクセス可能な場所にホストしてください。

### カタログはどのくらいの頻度で更新されますか？

デフォルトでは、カタログは1時間キャッシュされます（`CATALOG_CACHE_TTL_SECONDS` で設定可能）。ページをリロードすることで手動更新できます。

### カタログにないサーバーを追加できますか？

はい！「New Container」オプションを使用して、任意のDockerイメージを手動で設定して起動できます。

## MCPインスペクター

### インスペクターは何を表示しますか？

インスペクターは以下を表示します：
- **ツール**: MCPサーバーが提供する関数
- **リソース**: サーバーがアクセスできるデータソース
- **プロンプト**: 定義済みのプロンプトテンプレート

### コンテナを検査できないのはなぜですか？

考えられる理由：
- コンテナが実行されていない
- MCPサーバーがまだ完全に起動していない
- ネットワーク接続の問題
- MCPサーバーが検査プロトコルをサポートしていない

### ツールに必要なパラメータはどうやってわかりますか？

インスペクターは各ツールの入力スキーマ（必須およびオプションのパラメータを含む）を表示します。

## トラブルシューティング

### "Bitwarden CLI not found" エラー

**解決策:**
1. Bitwarden CLIをインストール: `npm install -g @bitwarden/cli`
2. インストールを確認: `bw --version`
3. バックエンド `.env` ファイルの `BITWARDEN_CLI_PATH` を更新

### "Cannot connect to Docker daemon" エラー

**解決策:**
1. Dockerが実行されているか確認: `docker ps`
2. Dockerソケットの権限を確認
3. Linuxの場合、ユーザーをdockerグループに追加: `sudo usermod -aG docker $USER`
4. バックエンド `.env` ファイルの `DOCKER_HOST` を確認

### "Session expired" メッセージ

**解決策:**
単に再度ログインしてください。セキュリティのため、セッションは30分間の非アクティブ状態で期限切れになります。

### コンテナログが表示されない

**解決策:**
1. コンテナが実行されていることを確認
2. ブラウザコンソールでWebSocketエラーを確認
3. バックエンドがアクセス可能か確認
4. ページの更新を試す

### "Invalid Bitwarden reference" エラー

**解決策:**
1. アイテムIDが正しいか確認
2. フィールド名が正確に一致しているか確認（大文字小文字を区別）
3. 保管庫内のアイテムへのアクセス権があるか確認
4. 参照形式を確認: `{{ bw:item-id:field }}`

### フロントエンドがバックエンドに接続できない

**解決策:**
1. バックエンドが実行されているか確認: `curl http://localhost:8000/health`
2. フロントエンド `.env.local` の `NEXT_PUBLIC_API_URL` を確認
3. バックエンドでCORSが正しく設定されているか確認
4. ファイアウォールルールを確認

### Dockerイメージのプルに失敗する

**解決策:**
1. インターネット接続を確認
2. イメージ名が正しいか確認
3. プライベートイメージの場合、Dockerが認証されているか確認
4. Docker Hubのレート制限を確認

## パフォーマンス

### カタログの読み込みが遅いのはなぜですか？

初回読み込みはリモートURLから取得するためです。以降の読み込みはキャッシュを使用します。より長くキャッシュするには `CATALOG_CACHE_TTL_SECONDS` を増やしてください。

### 複数のコンテナを同時に実行できますか？

はい、システムリソースの許す限り、実行できるコンテナ数に制限はありません。

### アプリケーションはどれくらいのメモリを使用しますか？

- フロントエンド: ~100-200MB
- バックエンド: ~200-300MB
- 各MCPコンテナ: サーバーにより異なる（通常 50-500MB）

### パフォーマンスを最適化するにはどうすればよいですか？

1. カタログとシークレットのキャッシュTTLを増やす
2. Dockerイメージキャッシングを使用する
3. 十分なシステムリソースを割り当てる
4. Docker用にSSDストレージを使用する

## 開発

### 貢献するにはどうすればよいですか？

1. リポジトリをフォーク
2. 機能ブランチを作成
3. 変更を行う
4. プルリクエストを送信

### テストを実行するにはどうすればよいですか？

```bash
# フロントエンドテスト
cd frontend
npm test

# バックエンドテスト
cd backend
pytest

# E2Eテスト
cd frontend
npm run test:e2e
```

### APIドキュメントはどこにありますか？

バックエンドを実行中に http://localhost:8000/docs にアクセスすると、インタラクティブなAPIドキュメントが表示されます。

### アプリケーションを拡張できますか？

はい！アプリケーションは拡張可能に設計されています：
- 新しいカタログソースの追加
- カスタムMCPサーバー統合の作成
- 新機能によるUIの拡張
- 新しいシークレット管理バックエンドの追加

## デプロイ

### 本番環境にデプロイできますか？

はい！詳細な手順については[デプロイメントガイド](DEPLOYMENT.ja.md)を参照してください。

### 最低サーバー要件は何ですか？

- 2 CPUコア
- 4GB RAM
- 20GB ディスク容量
- Linux OS（Ubuntu 22.04 LTS推奨）

### 本番環境でHTTPSは必要ですか？

はい、認証情報とセッショントークンを保護するため、本番環境ではHTTPSの使用を強く推奨します。

### 別のリバースプロキシを使用できますか？

はい、ガイドではNginxを使用していますが、Caddy、Traefik、またはその他のリバースプロキシを使用できます。

### データのバックアップはどうすればよいですか？

[デプロイメントガイド](DEPLOYMENT.ja.md)のバックアップセクションを参照してください。バックアップすべき主要項目：
- 設定ファイル (.env)
- ゲートウェイ設定
- SSL証明書

## サポート

### どこで助けを得られますか？

1. このFAQを確認
2. [ドキュメント](../README.ja.md)を確認
3. [GitHub Issues](repository-url/issues)を確認
4. アプリケーションログを確認

### バグを報告するにはどうすればよいですか？

1. GitHub Issuesに既に問題が存在しないか確認
2. 関連情報（ログ、再現手順）を収集
3. 詳細な説明とともに新しいIssueを作成

### 機能をリクエストするにはどうすればよいですか？

GitHub Issueを「enhancement」ラベル付きで作成し、以下を記述してください：
- 希望する機能
- なぜそれが有用か
- 実装のアイデア

### コミュニティはありますか？

リポジトリ内の以下へのリンクを確認してください：
- Discordサーバー
- ディスカッションフォーラム
- メーリングリスト

## ライセンスと法的事項

### どのライセンスの下にありますか？

[リポジトリ内のLICENSEファイルを確認してください]

### 商用利用できますか？

[ライセンスに依存します - 選択したライセンスに基づいて更新してください]

### 使用制限はありますか？

ライセンスの条件に従い、以下に準拠していることを確認してください：
- Bitwardenの利用規約
- Dockerの利用規約
- サードパーティMCPサーバーのライセンス
